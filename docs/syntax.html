<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="pageTitle">SD Syntax Guide - SD Visual Prompt Editor</title>
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../favicon-32x32.png"
    />
    <link rel="apple-touch-icon" href="../apple-touch-icon.png" />
    <link rel="stylesheet" href="../styles.css" />
    <style>
      body {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.7;
      }
      .container {
        background: var(--container-bg);
        padding: 40px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        position: relative;
        border: 1px solid var(--border-color);
      }
      h1 {
        color: var(--text-color);
        border-bottom: 3px solid var(--accent-color);
        padding-bottom: 10px;
        margin-top: 0;
        padding-right: 120px;
      }
      h2 {
        color: var(--accent-color);
        margin-top: 30px;
        border-left: 5px solid var(--accent-color);
        padding-left: 10px;
      }
      .syntax-section {
        background: rgba(0, 0, 0, 0.02);
        border: 1px solid var(--border-color);
        padding: 20px;
        border-radius: 6px;
        margin-bottom: 24px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
        background-color: var(--bg-color);
      }
      table,
      th,
      td {
        border: 1px solid var(--border-color);
      }
      th,
      td {
        padding: 12px;
        text-align: left;
      }
      th {
        background-color: rgba(0, 0, 0, 0.05);
        font-weight: bold;
      }
      code {
        background: rgba(128, 128, 128, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-family: "Consolas", monospace;
        color: #e74c3c;
      }
      .lang-btn {
        position: absolute;
        top: 40px;
        right: 40px;
        padding: 8px 16px;
        cursor: pointer;
        border: 1px solid var(--border-color);
        background: var(--container-bg);
        border-radius: 4px;
        font-weight: bold;
        color: var(--text-color);
      }
      .back-link {
        display: block;
        margin-top: 40px;
        text-align: center;
        font-weight: bold;
        color: var(--accent-color);
        text-decoration: none;
        padding: 10px;
        border: 2px solid var(--accent-color);
        border-radius: 8px;
      }
      .back-link:hover {
        background-color: var(--accent-color);
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <button class="lang-btn" onclick="toggleLanguage()">ğŸŒ EN/JP</button>
      <h1 data-i18n="title">Stable Diffusion æ§‹æ–‡ã‚¬ã‚¤ãƒ‰</h1>

      <div class="syntax-section">
        <h2 data-i18n="h2_emphasis">1. å¼·èª¿ãƒ»é‡ã¿ä»˜ã‘ (Emphasis)</h2>
        <p data-i18n="p_emphasis">
          ç‰¹å®šã®å˜èªã®å½±éŸ¿åŠ›ã‚’èª¿æ•´ã—ã¾ã™ã€‚ã‚«ãƒƒã‚³ã‚’é‡ã­ã‚‹ã“ã¨ã§åŠ¹æœã‚’ç´¯ç©ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
        </p>
        <table>
          <thead>
            <tr>
              <th data-i18n="th_syntax">æ§‹æ–‡</th>
              <th data-i18n="th_effect">åŠ¹æœ</th>
              <th data-i18n="th_example">ä¾‹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>(tag)</code></td>
              <td data-i18n="td_em_1">é‡ã¿ã‚’ 1.1 å€ã«å¢—åŠ </td>
              <td><code>(1girl)</code></td>
            </tr>
            <tr>
              <td><code>((tag))</code></td>
              <td data-i18n="td_em_2">é‡ã¿ã‚’ 1.21 å€ã«å¢—åŠ </td>
              <td><code>((masterpiece))</code></td>
            </tr>
            <tr>
              <td><code>[tag]</code></td>
              <td data-i18n="td_em_3">é‡ã¿ã‚’ 0.9 å€ã«æ¸›å°‘</td>
              <td><code>[low quality]</code></td>
            </tr>
            <tr>
              <td><code>(tag:1.2)</code></td>
              <td data-i18n="td_em_4">é‡ã¿ã‚’æ•°å€¤ã§ç›´æ¥æŒ‡å®š</td>
              <td><code>(blush:1.2)</code></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="syntax-section">
        <h2 data-i18n="h2_scheduling">2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›† (Scheduling)</h2>
        <p data-i18n="p_scheduling">
          ç”Ÿæˆã‚¹ãƒ†ãƒƒãƒ—ã®é€”ä¸­ã§å˜èªã‚’åˆ‡ã‚Šæ›¿ãˆãŸã‚Šã€ç‰¹å®šã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‰è¿½åŠ ã—ãŸã‚Šã—ã¾ã™ã€‚
        </p>
        <table>
          <thead>
            <tr>
              <th data-i18n="th_syntax">æ§‹æ–‡</th>
              <th data-i18n="th_effect">åŠ¹æœ</th>
              <th data-i18n="th_example">ä¾‹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>[A : B : step]</code></td>
              <td data-i18n="td_sch_1">é€”ä¸­ã§ A ã‹ã‚‰ B ã«åˆ‡ã‚Šæ›¿ãˆ</td>
              <td><code>[blue hair : red hair : 0.5]</code></td>
            </tr>
            <tr>
              <td><code>[B : step]</code></td>
              <td data-i18n="td_sch_2">æŒ‡å®šã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ B ã‚’è¿½åŠ </td>
              <td><code>[glasses : 0.2]</code></td>
            </tr>
            <tr>
              <td><code>[A :: step]</code></td>
              <td data-i18n="td_sch_3">æŒ‡å®šã‚¹ãƒ†ãƒƒãƒ—ã§ A ã‚’å‰Šé™¤</td>
              <td><code>[hat :: 0.8]</code></td>
            </tr>
          </tbody>
        </table>
        <p>
          <small data-i18n="note_step"
            >â€»stepãŒ1æœªæº€ãªã‚‰ã€Œå‰²åˆã€ã€1ä»¥ä¸Šãªã‚‰ã€Œã‚¹ãƒ†ãƒƒãƒ—æ•°ã€ã‚’æŒ‡å®šã—ã¾ã™ã€‚</small
          >
        </p>
      </div>

      <div class="syntax-section">
        <h2 data-i18n="h2_alternating">3. å˜èªã®äº¤äº’æŒ‡å®š (Alternating)</h2>
        <p data-i18n="p_alternating">
          ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å˜èªã‚’äº¤äº’ã«ä½¿ç”¨ã—ã¾ã™ã€‚æ··ã–ã‚Šåˆã£ãŸã‚ˆã†ãªè¡¨ç¾ãŒå¯èƒ½ã§ã™ã€‚
        </p>
        <ul>
          <li>
            <strong data-i18n="li_alt_syntax">æ§‹æ–‡:</strong>
            <code>[word1 | word2]</code>
          </li>
          <li>
            <strong data-i18n="li_alt_ex">ä¾‹:</strong>
            <code>[cowboy shot | full body]</code>
          </li>
        </ul>
      </div>

      <div class="syntax-section">
        <h2 data-i18n="h2_network">4. LoRA / ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ã‚°</h2>
        <p data-i18n="p_network">
          å¤–éƒ¨ãƒ¢ãƒ‡ãƒ«ã‚’é©ç”¨ã—ã¾ã™ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§ã¯ãƒ”ãƒ³ã‚¯è‰²ã®æ ã§å¼·èª¿ã•ã‚Œã¾ã™ã€‚
        </p>
        <ul>
          <li>
            <strong data-i18n="li_net_syntax">æ§‹æ–‡:</strong>
            <code>&lt;type:name:weight&gt;</code>
          </li>
          <li>
            <strong data-i18n="li_net_ex">ä¾‹:</strong>
            <code>&lt;lora:fashion_style:0.7&gt;</code>
          </li>
        </ul>
      </div>

      <div class="syntax-section">
        <h2 data-i18n="h2_control">5. åˆ¶å¾¡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (BREAK / AND)</h2>
        <p data-i18n="p_control">è¨ˆç®—ã®åŒºåˆ‡ã‚Šã‚„åˆæˆã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚</p>
        <ul>
          <li>
            <strong>BREAK</strong>:
            <span data-i18n="li_break"
              >ãƒˆãƒ¼ã‚¯ãƒ³ã®åŒºåˆ‡ã‚Šã‚’å¼·åˆ¶çµ‚äº†ã—ã€æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã¸ç§»å‹•ã•ã›ã¾ã™ã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã„å ´åˆã®æ¸›è¡°é˜²æ­¢ã«æœ‰åŠ¹ã§ã™ã€‚</span
            >
          </li>
          <li>
            <strong>AND</strong>:
            <span data-i18n="li_and">è¤‡æ•°ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’åˆæˆã—ã¾ã™ã€‚</span>
          </li>
        </ul>
      </div>

      <div class="syntax-section">
        <h2 data-i18n="h2_comment">6. ã‚³ãƒ¡ãƒ³ãƒˆ (#)</h2>
        <p data-i18n="p_comment">
          <code>#</code>
          ä»¥é™ã®æ–‡å­—åˆ—ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§ã¯ç·‘è‰²ã®æ ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
        </p>
        <ul>
          <li>
            <strong data-i18n="li_com_ex">ä¾‹:</strong>
            <code>1girl, solo, # wearing a hat</code>
          </li>
        </ul>
      </div>

      <a href="../index.html" class="back-link" data-i18n="back"
        >â†©ï¸ ãƒ„ãƒ¼ãƒ«ã«æˆ»ã‚‹</a
      >
    </div>

    <script>
      // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰è‡ªå‹•åˆ¤å®š
      if (
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches
      ) {
        document.body.classList.add("dark-mode");
      }
      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (event) => {
          if (event.matches) document.body.classList.add("dark-mode");
          else document.body.classList.remove("dark-mode");
        });

      const i18n = {
        ja: {
          title: "Stable Diffusion æ§‹æ–‡ã‚¬ã‚¤ãƒ‰",
          h2_emphasis: "1. å¼·èª¿ãƒ»é‡ã¿ä»˜ã‘ (Emphasis)",
          p_emphasis:
            "ç‰¹å®šã®å˜èªã®å½±éŸ¿åŠ›ã‚’èª¿æ•´ã—ã¾ã™ã€‚ã‚«ãƒƒã‚³ã‚’é‡ã­ã‚‹ã“ã¨ã§åŠ¹æœã‚’ç´¯ç©ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚",
          th_syntax: "æ§‹æ–‡",
          th_effect: "åŠ¹æœ",
          th_example: "ä¾‹",
          td_em_1: "é‡ã¿ã‚’ 1.1 å€ã«å¢—åŠ ",
          td_em_2: "é‡ã¿ã‚’ 1.21 å€ã«å¢—åŠ ",
          td_em_3: "é‡ã¿ã‚’ 0.9 å€ã«æ¸›å°‘",
          td_em_4: "é‡ã¿ã‚’æ•°å€¤ã§ç›´æ¥æŒ‡å®š",
          h2_scheduling: "2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›† (Scheduling)",
          p_scheduling:
            "ç”Ÿæˆã‚¹ãƒ†ãƒƒãƒ—ã®é€”ä¸­ã§å˜èªã‚’åˆ‡ã‚Šæ›¿ãˆãŸã‚Šã€ç‰¹å®šã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‰è¿½åŠ ã—ãŸã‚Šã—ã¾ã™ã€‚",
          td_sch_1: "é€”ä¸­ã§ A ã‹ã‚‰ B ã«åˆ‡ã‚Šæ›¿ãˆ",
          td_sch_2: "æŒ‡å®šã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ B ã‚’è¿½åŠ ",
          td_sch_3: "æŒ‡å®šã‚¹ãƒ†ãƒƒãƒ—ã§ A ã‚’å‰Šé™¤",
          note_step:
            "â€»stepãŒ1æœªæº€ãªã‚‰ã€Œå‰²åˆã€ã€1ä»¥ä¸Šãªã‚‰ã€Œã‚¹ãƒ†ãƒƒãƒ—æ•°ã€ã‚’æŒ‡å®šã—ã¾ã™ã€‚",
          h2_alternating: "3. å˜èªã®äº¤äº’æŒ‡å®š (Alternating)",
          p_alternating:
            "ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å˜èªã‚’äº¤äº’ã«ä½¿ç”¨ã—ã¾ã™ã€‚æ··ã–ã‚Šåˆã£ãŸã‚ˆã†ãªè¡¨ç¾ãŒå¯èƒ½ã§ã™ã€‚",
          li_alt_syntax: "æ§‹æ–‡:",
          li_alt_ex: "ä¾‹:",
          h2_network: "4. LoRA / ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ã‚°",
          p_network:
            "å¤–éƒ¨ãƒ¢ãƒ‡ãƒ«ã‚’é©ç”¨ã—ã¾ã™ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§ã¯ãƒ”ãƒ³ã‚¯è‰²ã®æ ã§å¼·èª¿ã•ã‚Œã¾ã™ã€‚",
          li_net_syntax: "æ§‹æ–‡:",
          li_net_ex: "ä¾‹:",
          h2_control: "5. åˆ¶å¾¡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (BREAK / AND)",
          p_control: "è¨ˆç®—ã®åŒºåˆ‡ã‚Šã‚„åˆæˆã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚",
          li_break:
            "ãƒˆãƒ¼ã‚¯ãƒ³ã®åŒºåˆ‡ã‚Šã‚’å¼·åˆ¶çµ‚äº†ã—ã€æ¬¡ã®ãƒãƒ£ãƒ³ã‚¯ã¸ç§»å‹•ã•ã›ã¾ã™ã€‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒé•·ã„å ´åˆã®æ¸›è¡°é˜²æ­¢ã«æœ‰åŠ¹ã§ã™ã€‚",
          li_and: "è¤‡æ•°ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’åˆæˆã—ã¾ã™ã€‚",
          h2_comment: "6. ã‚³ãƒ¡ãƒ³ãƒˆ (#)",
          p_comment:
            "# ä»¥é™ã®æ–‡å­—åˆ—ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ‡ã‚£ã‚¿ä¸Šã§ã¯ç·‘è‰²ã®æ ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
          li_com_ex: "ä¾‹:",
          back: "â†©ï¸ ãƒ„ãƒ¼ãƒ«ã«æˆ»ã‚‹",
        },
        en: {
          title: "Stable Diffusion Syntax Guide",
          h2_emphasis: "1. Emphasis / Weighting",
          p_emphasis:
            "Adjust the influence of specific words. Effects accumulate with nested parentheses.",
          th_syntax: "Syntax",
          th_effect: "Effect",
          th_example: "Example",
          td_em_1: "Increase weight by 1.1x",
          td_em_2: "Increase weight by 1.21x",
          td_em_3: "Decrease weight by 0.9x",
          td_em_4: "Specify weight numerically",
          h2_scheduling: "2. Prompt Editing (Scheduling)",
          p_scheduling:
            "Switch words mid-generation or add them at a specific step.",
          td_sch_1: "Switch from A to B",
          td_sch_2: "Add B at specified step",
          td_sch_3: "Remove A at specified step",
          note_step:
            "*If step < 1, it represents a percentage. If >= 1, it represents a step count.",
          h2_alternating: "3. Alternating Words",
          p_alternating:
            "Use words alternately every step to create mixed expressions.",
          li_alt_syntax: "Syntax:",
          li_alt_ex: "Example:",
          h2_network: "4. LoRA / Network Tags",
          p_network:
            "Apply external models. Highlighted with pink borders in the editor.",
          li_net_syntax: "Syntax:",
          li_net_ex: "Example:",
          h2_control: "5. Control Keywords (BREAK / AND)",
          p_control: "Control computation boundaries or composition.",
          li_break:
            "Forces a chunk end and moves to the next. Effective for long prompts to prevent fading effects.",
          li_and: "Composites multiple prompts.",
          h2_comment: "6. Comments (#)",
          p_comment:
            "Strings after # are ignored. Displayed with green borders in the editor.",
          li_com_ex: "Example:",
          back: "â†©ï¸ Back to Tool",
        },
      };

      let currentLang = localStorage.getItem("lang") || "ja";
      function toggleLanguage() {
        currentLang = currentLang === "ja" ? "en" : "ja";
        localStorage.setItem("lang", currentLang);
        applyLanguage();
      }
      function applyLanguage() {
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (i18n[currentLang][key]) el.innerHTML = i18n[currentLang][key];
        });
        document.title = i18n[currentLang].title;
      }
      window.onload = applyLanguage;
    </script>
  </body>
</html>
